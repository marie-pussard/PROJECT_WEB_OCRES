{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marie\\\\Desktop\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\components\\\\meteo.js\";\nimport './meteo.css';\nimport React from 'react';\nimport axios from \"axios\"; // Clé api\n\nconst API_KEY = \"4081444b7b90198136fefe6ed4ccf35b\"; // Url API\n\n/*const API_URL = \"https://api.openweathermap.org/data/2.5/onecall\";*/\n\nconst API_URL = \"https://api.openweathermap.org/data/2.5/weather\"; // Base source icon\n\nconst API_URL_ICON = \"https://cdnjs.cloudflare.com/ajax/libs/weather-icons/1.2/css/weather-icons.min.css\";\nexport class Meteo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      city: \"paris\",\n      lat: 48.85,\n      lon: 2.35\n    };\n    this.fetchTodayForecast = this.fetchTodayForecast.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTodayForecast().then(response => {\n      // Récupère la donnée d'une API\n      const data = response.data; // On récupère l'information principal\n\n      const main = data.weather[0].main;\n      const temperature = data.main.temp;\n      const humidity = data.main.humidity;\n      const icon = data.weather[0].icon;\n      const windspeed = data.wind.speed;\n      /*write information in state*/\n\n      this.setState({\n        today_forecast_main: main\n      });\n      /* ? */\n\n      this.setState({\n        temperature\n      });\n      this.setState({\n        icon\n      });\n      this.setState({\n        windspeed\n      });\n      this.setState({\n        humidity\n      });\n      console.log(main);\n    });\n  }\n\n  fetchTodayForecast() {\n    return axios.get(\"\".concat(API_URL, \"?q=\").concat(this.state.city, \"&cnt=4&units=metric&appid=\").concat(API_KEY), {\n      /*.get(`${API_URL}?lat=${this.state.lat}&lon=${this.state.lon}&units=metric&appid=${API_KEY}`, {*/\n      crossdomain: true\n    });\n  }\n\n  getHTMLElementFromIcon(icon) {\n    return \"<img src=\".concat(API_URL_ICON).concat(icon, \"@2x.png class=\\\"weather-icon\\\"/>\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"weather_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"weatherCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"currentTemp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"temp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, Math.round(this.state.temperature), \"\\xB0\"), React.createElement(\"span\", {\n      className: \"location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.state.city)), React.createElement(\"div\", {\n      className: \"currentWeather\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"conditions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"http://openweathermap.org/img/wn/\".concat(this.state.icon, \"@4x.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"rain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.humidity, \" %\"), React.createElement(\"span\", {\n      className: \"wind\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, this.state.windspeed, \" Mph\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/marie/Desktop/PROJECT_WEB_OCRES/frontend/src/components/meteo.js"],"names":["React","axios","API_KEY","API_URL","API_URL_ICON","Meteo","Component","constructor","props","state","city","lat","lon","fetchTodayForecast","bind","componentDidMount","then","response","data","main","weather","temperature","temp","humidity","icon","windspeed","wind","speed","setState","today_forecast_main","console","log","get","crossdomain","getHTMLElementFromIcon","render","Math","round"],"mappings":"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","sourcesContent":["import './meteo.css';\r\nimport React from 'react';\r\nimport axios from \"axios\";\r\n\r\n// Clé api\r\nconst API_KEY = \"4081444b7b90198136fefe6ed4ccf35b\";\r\n// Url API\r\n/*const API_URL = \"https://api.openweathermap.org/data/2.5/onecall\";*/\r\nconst API_URL = \"https://api.openweathermap.org/data/2.5/weather\";\r\n// Base source icon\r\nconst API_URL_ICON = \"https://cdnjs.cloudflare.com/ajax/libs/weather-icons/1.2/css/weather-icons.min.css\";\r\n\r\n\r\nexport class Meteo extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      city:\"paris\",\r\n      lat:48.85,\r\n      lon:2.35\r\n    };\r\n    this.fetchTodayForecast = this.fetchTodayForecast.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchTodayForecast()\r\n    .then((response) => {\r\n      // Récupère la donnée d'une API\r\n      const data = response.data;\r\n      // On récupère l'information principal\r\n      const main = data.weather[0].main;\r\n      const temperature = data.main.temp;\r\n      const humidity = data.main.humidity;\r\n      const icon = data.weather[0].icon;\r\n      const windspeed = data.wind.speed;\r\n      /*write information in state*/\r\n      this.setState({today_forecast_main:main}); /* ? */\r\n      this.setState({temperature});\r\n      this.setState({icon});\r\n      this.setState({windspeed});\r\n      this.setState({humidity});\r\n      console.log(main);\r\n  })\r\n}\r\n  fetchTodayForecast(){\r\n    return axios\r\n    .get(`${API_URL}?q=${this.state.city}&cnt=4&units=metric&appid=${API_KEY}`, {\r\n    /*.get(`${API_URL}?lat=${this.state.lat}&lon=${this.state.lon}&units=metric&appid=${API_KEY}`, {*/\r\n      crossdomain: true\r\n    })\r\n  }\r\n\r\n  getHTMLElementFromIcon(icon){\r\n    return `<img src=${API_URL_ICON}${icon}@2x.png class=\"weather-icon\"/>`\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div id=\"weather_wrapper\">\r\n\t<div className=\"weatherCard\">\r\n\t\t<div className=\"currentTemp\">\r\n\t\t\t<span className=\"temp\">{Math.round(this.state.temperature)}&deg;</span>\r\n\t\t\t<span className=\"location\">{this.state.city}</span>\r\n\t\t</div>\r\n\t\t<div className=\"currentWeather\">\r\n\t\t\t<span className=\"conditions\"><img src={`http://openweathermap.org/img/wn/${this.state.icon}@4x.png`}></img></span>\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t<span className=\"rain\">{this.state.humidity} %</span>\r\n\t\t\t\t<span className=\"wind\">{this.state.windspeed} Mph</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}