{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marie\\\\Desktop\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\components\\\\meteo.js\";\nimport './meteo.css';\nimport React from 'react';\nimport axios from \"axios\";\nimport './meteo.css'; // Clé api\n\nconst API_KEY = \"4081444b7b90198136fefe6ed4ccf35b\"; // Url API\n\n/*const API_URL = \"https://api.openweathermap.org/data/2.5/onecall\";*/\n\nconst API_URL = \"https://api.openweathermap.org/data/2.5/weather\"; // Base source icon\n\nconst API_URL_ICON = \"https://cdnjs.cloudflare.com/ajax/libs/weather-icons/1.2/css/weather-icons.min.css\";\nexport class Meteo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      city: \"paris\",\n      lat: 48.85,\n      lon: 2.35\n    };\n    this.fetchTodayForecast = this.fetchTodayForecast.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTodayForecast().then(response => {\n      // Récupère la donnée d'une API\n      const data = response.data; // On récupère l'information principal\n\n      const main = data.weather[0].main;\n      const temperature = data.main.temp;\n      const humidity = data.main.humidity;\n      const icon = data.weather[0].icon;\n      const windspeed = data.wind.speed;\n      /*write information in state*/\n\n      this.setState({\n        today_forecast_main: main\n      });\n      /* ? */\n\n      this.setState({\n        temperature\n      });\n      this.setState({\n        icon\n      });\n      this.setState({\n        windspeed\n      });\n      this.setState({\n        humidity\n      });\n      console.log(main);\n    });\n  }\n\n  fetchTodayForecast() {\n    return axios.get(\"\".concat(API_URL, \"?q=\").concat(this.state.city, \"&cnt=4&units=metric&appid=\").concat(API_KEY), {\n      /*.get(`${API_URL}?lat=${this.state.lat}&lon=${this.state.lon}&units=metric&appid=${API_KEY}`, {*/\n      crossdomain: true\n    });\n  }\n\n  getHTMLElementFromIcon(icon) {\n    return \"<img src=\".concat(API_URL_ICON).concat(icon, \"@2x.png class=\\\"weather-icon\\\"/>\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container col-md-4 col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"conditions\",\n      alt: \"\",\n      src: \"http://openweathermap.org/img/wn/\".concat(this.state.icon, \"@4x.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row temperature\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, Math.round(this.state.temperature), \"\\xB0\")), React.createElement(\"div\", {\n      className: \"row ville\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.state.city)))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6 wind\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.state.windspeed, \" Mph\")), React.createElement(\"div\", {\n      className: \"col-6 rain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.humidity, \" %\"))));\n  }\n\n}\nexport default Meteo;","map":{"version":3,"sources":["C:/Users/marie/Desktop/PROJECT_WEB_OCRES/frontend/src/components/meteo.js"],"names":["React","axios","API_KEY","API_URL","API_URL_ICON","Meteo","Component","constructor","props","state","city","lat","lon","fetchTodayForecast","bind","componentDidMount","then","response","data","main","weather","temperature","temp","humidity","icon","windspeed","wind","speed","setState","today_forecast_main","console","log","get","crossdomain","getHTMLElementFromIcon","render","Math","round"],"mappings":"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","sourcesContent":["import './meteo.css';\r\nimport React from 'react';\r\nimport axios from \"axios\";\r\nimport './meteo.css';\r\n\r\n// Clé api\r\nconst API_KEY = \"4081444b7b90198136fefe6ed4ccf35b\";\r\n// Url API\r\n/*const API_URL = \"https://api.openweathermap.org/data/2.5/onecall\";*/\r\nconst API_URL = \"https://api.openweathermap.org/data/2.5/weather\";\r\n// Base source icon\r\nconst API_URL_ICON = \"https://cdnjs.cloudflare.com/ajax/libs/weather-icons/1.2/css/weather-icons.min.css\";\r\n\r\n\r\nexport class Meteo extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      city:\"paris\",\r\n      lat:48.85,\r\n      lon:2.35\r\n    };\r\n    this.fetchTodayForecast = this.fetchTodayForecast.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.fetchTodayForecast()\r\n    .then((response) => {\r\n      // Récupère la donnée d'une API\r\n      const data = response.data;\r\n      // On récupère l'information principal\r\n      const main = data.weather[0].main;\r\n      const temperature = data.main.temp;\r\n      const humidity = data.main.humidity;\r\n      const icon = data.weather[0].icon;\r\n      const windspeed = data.wind.speed;\r\n      /*write information in state*/\r\n      this.setState({today_forecast_main:main}); /* ? */\r\n      this.setState({temperature});\r\n      this.setState({icon});\r\n      this.setState({windspeed});\r\n      this.setState({humidity});\r\n      console.log(main);\r\n    })\r\n  }\r\n  fetchTodayForecast(){\r\n    return axios\r\n    .get(`${API_URL}?q=${this.state.city}&cnt=4&units=metric&appid=${API_KEY}`, {\r\n    /*.get(`${API_URL}?lat=${this.state.lat}&lon=${this.state.lon}&units=metric&appid=${API_KEY}`, {*/\r\n      crossdomain: true\r\n    })\r\n  }\r\n\r\n  getHTMLElementFromIcon(icon){\r\n    return `<img src=${API_URL_ICON}${icon}@2x.png class=\"weather-icon\"/>`\r\n  }\r\n\r\n  render(){\r\n    return(\r\n\r\n      <div className=\"container col-md-4 col-sm-3\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <img className=\"conditions\" alt=\"\" src={`http://openweathermap.org/img/wn/${this.state.icon}@4x.png`}></img>\r\n          </div>\r\n\r\n          <div className=\"col-6\">\r\n            <div className=\"row temperature\">\r\n              <span>{Math.round(this.state.temperature)}&deg;</span>\r\n            </div>\r\n\r\n            <div className=\"row ville\">\r\n              <span>{this.state.city}</span>\r\n            </div> \r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-6 wind\">\r\n            <span>{this.state.windspeed} Mph</span>\r\n          </div>\r\n\r\n          <div className=\"col-6 rain\">\r\n            <span>{this.state.humidity} %</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      \r\n    )\r\n  }\r\n}\r\nexport default Meteo;"]},"metadata":{},"sourceType":"module"}